{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "$ref": "#/definitions/NodePoolSpecDisruption",
    "definitions": {
        "NodePoolSpecDisruption": {
            "properties": {
                "budgets": {
                    "items": {
                        "$ref": "#/definitions/NodePoolSpecDisruptionBudgets"
                    },
                    "type": "array",
                    "description": "Budgets is a list of Budgets. If there are multiple active budgets, Karpenter uses the most restrictive value. If left undefined, this will default to one budget with a value to 10%."
                },
                "consolidate_after": {
                    "type": "string",
                    "description": "ConsolidateAfter is the duration the controller will wait before attempting to terminate nodes that are underutilized. Refer to ConsolidationPolicy for how underutilization is considered. When replicas is set, ConsolidateAfter is simply ignored"
                },
                "consolidation_policy": {
                    "enum": [
                        "NodePoolSpecDisruptionConsolidationPolicy_UNSPECIFIED",
                        0,
                        "NodePoolSpecDisruptionConsolidationPolicy_WHENEMPTY",
                        1,
                        "NodePoolSpecDisruptionConsolidationPolicy_WHENEMPTYORUNDERUTILIZED",
                        2
                    ],
                    "oneOf": [
                        {
                            "type": "string"
                        },
                        {
                            "type": "integer"
                        }
                    ],
                    "title": "Node Pool Spec Disruption Consolidation Policy",
                    "description": "ConsolidationPolicy describes which nodes Karpenter can disrupt through its consolidation algorithm. This policy defaults to \"WhenEmptyOrUnderutilized\" if not specified When replicas is set, ConsolidationPolicy is simply ignored"
                }
            },
            "additionalProperties": true,
            "type": "object",
            "title": "Node Pool Spec Disruption",
            "description": "Disruption contains the parameters that relate to Karpenter's disruption logic"
        },
        "NodePoolSpecDisruptionBudgets": {
            "properties": {
                "duration": {
                    "type": "string",
                    "description": "Duration determines how long a Budget is active since each Schedule hit. Only minutes and hours are accepted, as cron does not work in seconds. If omitted, the budget is always active. This is required if Schedule is set. This regex has an optional 0s at the end since the duration.String() always adds a 0s at the end."
                },
                "nodes": {
                    "type": "string",
                    "description": "Nodes dictates the maximum number of NodeClaims owned by this NodePool that can be terminating at once. This is calculated by counting nodes that have a deletion timestamp set, or are actively being deleted by Karpenter. This field is required when specifying a budget. This cannot be of type intstr.IntOrString since kubebuilder doesn't support pattern checking for int nodes for IntOrString nodes. Ref: https://github.com/kubernetes-sigs/controller-tools/blob/55efe4be40394a288216dab63156b0a64fb82929/pkg/crd/markers/validation.go#L379-L388"
                },
                "reasons": {
                    "items": {
                        "enum": [
                            "NodePoolSpecDisruptionBudgetsReasons_UNSPECIFIED",
                            0,
                            "NodePoolSpecDisruptionBudgetsReasons_UNDERUTILIZED",
                            1,
                            "NodePoolSpecDisruptionBudgetsReasons_EMPTY",
                            2,
                            "NodePoolSpecDisruptionBudgetsReasons_DRIFTED",
                            3
                        ]
                    },
                    "type": "array",
                    "title": "Node Pool Spec Disruption Budgets Reasons",
                    "description": "DisruptionReason defines valid reasons for disruption budgets."
                },
                "schedule": {
                    "type": "string",
                    "description": "Schedule specifies when a budget begins being active, following the upstream cronjob syntax. If omitted, the budget is always active. Timezones are not supported. This field is required if Duration is set."
                }
            },
            "additionalProperties": true,
            "type": "object",
            "title": "Node Pool Spec Disruption Budgets",
            "description": "Budget defines when Karpenter will restrict the number of Node Claims that can be terminating simultaneously."
        }
    }
}